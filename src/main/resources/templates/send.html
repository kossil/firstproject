<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>

    <link rel="stylesheet" href="resources/dijit/themes/claro/claro.css" >
    <script> dojoConfig = {parseOnLoad: true}</script>
    <script src='resources/dojo/dojo.js'></script>

    <!--<style class="igm"> body{-->
        <!--background-color:black;-->
    <!--}-->
    <!--</style>>-->
</head>
<body class="claro">
<script>

    dojo.require("dijit.form.Button");
    dojo.require("dijit.form.TextBox");
    dojo.require("dijit.form.CheckBox");

</script>
<br>
<blockquote>
    <form action="/send" id="myform" method="post" >

        <label for="selectdepartment">Выберите отдел:</label>
        <select name="selectdepartment" id="selectdepartment" data-dojo-type="dijit/form/Select">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
        </select>

        <br>
        <br>
        <br>

        <label for="date1">Результаты от:</label>
        <input type="text" name="date1" id="date1" th:value="*{date1}"
               data-dojo-type="dijit/form/DateTextBox"
               required="true" />

        <br>
        <br>
        <br>
        <label for="date2">Результаты до:</label>
        <input type="text" name="date2" id="date2" th:value="*{date2}"
               data-dojo-type="dijit/form/DateTextBox"
               required="true" />
        <br>
        <button type="submit" data-dojo-type="dijit/form/Button" id="submitButton">Send it!</button>
            <br><br>
        <br><br>
        <label th:text="'Выбранная дата от:' + *{date1} + ' до:' + *{date2} + ' Отдел номер:' + *{selectdepartment}"></label>
        <br>
        <div th:object="${allQuestion}">
        <table border="1" id="question-table">
            <tr>
                <th>№</th>
                <th>Вопрос</th>
                <th>ср.знач.</th>
            </tr>

            <tr th:each="accountInfo : ${allQuestion}">
                <td th:utext="${accountInfo.id}"></td>
                <td th:utext="${accountInfo.question}"></td>
                <td><center> <label th:text="${accountInfo.average}"></label></center></td>
            </tr>


        </table>
            <table border="1" id="tableigm">
                <tr>
                    <th>Вопрос 1</th>
                    <th>Вопрос 2</th>
                    <th>Вопрос 3</th>
                    <th>Вопрос 4</th>
                    <th>Вопрос 5</th>
                    <th>Вопрос 6</th>
                    <th>Вопрос 7</th>
                    <th>Вопрос 8</th>
                    <th>Вопрос 9</th>
                    <th>Вопрос 10</th>
                    <th>Вопрос 11</th>
                    <th>Вопрос 12</th>
                    <th>Вопрос 13</th>
                    <th>Вопрос 14</th>
                    <th>Вопрос 15</th>
                    <th>Сумма</th>


                </tr>
                <tr th:each="resultquestion:  ${resultQuestion}">
                    <td th:utext="${resultquestion.question1}"></td>
                    <td th:utext="${resultquestion.question2}"></td>
                    <td th:utext="${resultquestion.question3}"></td>
                    <td th:utext="${resultquestion.question4}"></td>
                    <td th:utext="${resultquestion.question5}"></td>
                    <td th:utext="${resultquestion.question6}"></td>
                    <td th:utext="${resultquestion.question7}"></td>
                    <td th:utext="${resultquestion.question8}"></td>
                    <td th:utext="${resultquestion.question9}"></td>
                    <td th:utext="${resultquestion.question10}"></td>
                    <td th:utext="${resultquestion.question11}"></td>
                    <td th:utext="${resultquestion.question12}"></td>
                    <td th:utext="${resultquestion.question13}"></td>
                    <td th:utext="${resultquestion.question14}"></td>
                    <td th:utext="${resultquestion.question15}"></td>
                    <td><center> <label th:text="${resultquestion.sumResult} - 15"></label></center></td>
                </tr>

        </table>
            <ul>
                <li>1 - Абсолютно не согласен;</li>
                <li>2 - В чем-то не согласен;</li>
                <li>3 - Затрудняюсь ответить;</li>
                <li>4 - Согласен до некоторой степени;</li>
                <li>5 - полностью согласен;</li>
            </ul>
        </div>
        <br>
        <script>
            var table = dojo.byId('question-table');
            var elem = table.getElementsByTagName('label');
            for (var z = 0; z < elem.length; z++) {
                var elema = elem[z];

                if(z==0||z==1||z==3||z==4||z==5||z==7||z==9||z==12||z==13) {
                    if (elema.innerHTML <= 2)
                        elema.style.backgroundColor = '#bc0600';
                    if (elema.innerHTML <= 3 && elema.innerHTML > 2)
                        elema.style.backgroundColor = '#ff9310';
                    if (elema.innerHTML <= 4 && elema.innerHTML > 3)
                        elema.style.backgroundColor = '#ffff60';
                    if (elema.innerHTML <= 5 && elema.innerHTML > 4)
                        elema.style.backgroundColor = '#48f000';
                }
                else{
                    if (elema.innerHTML <= 2)
                        elema.style.backgroundColor = '#48f000';
                    if (elema.innerHTML <= 3 && elema.innerHTML > 2)
                        elema.style.backgroundColor = '#ffff60';
                    if (elema.innerHTML <= 4 && elema.innerHTML > 3)
                        elema.style.backgroundColor = '#ff9310';
                    if (elema.innerHTML <= 5 && elema.innerHTML > 4)
                        elema.style.backgroundColor = '#bc0600';

                }
            }
            var second_table = dojo.byId('tableigm');
            var element = second_table.getElementsByTagName('label');
            for (var i = 0; i < element.length; i++) {
                var localelem = element[i];
                if(localelem.innerHTML >= 0 && localelem.innerHTML <=15)
                    localelem.style.backgroundColor='#bc0600';
                if(localelem.innerHTML > 15 && localelem.innerHTML <=30)
                    localelem.style.backgroundColor='#ff9310';
                if(localelem.innerHTML > 30 && localelem.innerHTML <=45)
                    localelem.style.backgroundColor='#ffff60';
                if(localelem.innerHTML > 45 && localelem.innerHTML <=60)
                    localelem.style.backgroundColor='#48f000';
            }

        </script>

    </form>
</blockquote>
<br>
</body>
</html>